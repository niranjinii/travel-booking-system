<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Explore Packages - Travel</title>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@700&family=Open+Sans:wght@400;600&display=swap"
      rel="stylesheet"
    />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="/styles/style.css" />
    <link rel="stylesheet" href="/styles/map.css" />
  </head>
  <body>
    <%- include('partials/navbar') %>

    <div class="map-page-wrapper">
      <h1 class="map-title">Explore Packages by Country</h1>

      <div class="map-container"><%- include('partials/world-map') %></div>

      <div id="packages-container" class="packages-wrapper">
        <!-- Packages will be dynamically loaded here -->
      </div>
    </div>

    <script>
      const countryMap = {
        FR: "France",
        IN: "India",
        US: "United States",
        // add more as needed
      };

      const dummyPackages = {
        "United States": [
          {
            name: "US East Coast Adventure",
            description: "Visit NYC, Washington DC, and Boston.",
          },
          {
            name: "California Dreaming",
            description: "Explore LA, San Francisco, and Yosemite.",
          },
        ],
        France: [
          {
            name: "Paris & Beyond",
            description: "Eiffel Tower, Louvre, and French Riviera.",
          },
          {
            name: "Wine Country Tour",
            description: "Bordeaux, Champagne, and Burgundy regions.",
          },
        ],
        India: [
          {
            name: "Golden Triangle",
            description: "Delhi, Agra, Jaipur exploration.",
          },
          {
            name: "Kerala Backwaters",
            description: "Houseboats and tropical scenery.",
          },
        ],
      };

      document.querySelectorAll("path[id]").forEach((path) => {
        path.addEventListener("click", () => {
          const countryName = countryMap[path.id]; // map SVG id to real name
          const packages = dummyPackages[countryName] || [];

          const container = document.getElementById("packages-container");
          container.innerHTML = "";

          if (packages.length === 0) {
            container.innerHTML =
              "<p>No packages available for this country.</p>";
          } else {
            packages.forEach((pkg) => {
              const div = document.createElement("div");
              div.classList.add("package-card");
              div.innerHTML = `<h3>${pkg.name}</h3><p>${pkg.description}</p>`;
              container.appendChild(div);
            });
          }
        });
      });
    </script>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
  </body>
</html>
